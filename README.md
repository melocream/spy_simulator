# SPY ETF 월적립 복리 시뮬레이터

SPY (S&P 500 ETF) 월적립 투자의 복리 효과를 시뮬레이션하는 Python 프로그램입니다.

## 버전 히스토리

### v1 → v2 개선 과정

v1 코드를 **GPT 코드 검증(CrossAI Verifier MCP)** 을 통해 리뷰하고, 발견된 이슈들을 수정하여 v2를 개발했습니다.

#### GPT가 발견한 주요 이슈

| 심각도 | 이슈 | 설명 |
|--------|------|------|
| **High** | 월 수익률 환산 오류 | `annual_return / 12` 방식은 복리 기준으로 부정확 |
| Medium | 입력값 검증 부재 | 0/음수 입력 시 0으로 나누기 오류 가능 |
| Medium | float 정밀도 문제 | 장기 시뮬레이션에서 반올림 오차 누적 |
| Low | 플랫폼 의존성 | macOS 전용 폰트 설정 |

#### v2에서 개선된 사항

- **월 수익률 복리 환산 수정**: `math.expm1(log1p(annual) / 12)` 사용
- **입력값 검증 강화**: 타입, 범위, inflation_rate 모두 검증
- **Decimal 사용**: 금융 계산 정밀도 향상
- **크로스 플랫폼 폰트**: macOS, Windows, Linux 지원
- **인플레이션 조정**: 실질 수익률 계산 기능 추가
- **시나리오 비교**: 여러 수익률 시나리오 비교 그래프

## 설치

```bash
pip install -r requirements.txt
```

## 실행

```bash
# v1 (기존 버전)
python spy_simulator_v1.py

# v2 (개선 버전)
python spy_simulator_v2.py
```

## 기본 설정값

- 월 납입금: 100만원
- 투자 기간: 30년
- 예상 연 수익률: 10% (SPY 역사적 평균)
- 인플레이션: 2.5%/년 (v2만)

## 출력 예시

```
============================================================
SPY 월적립 복리 시뮬레이터 v2
============================================================
월 납입금: 1,000,000원
투자 기간: 30년 (360개월)
예상 연 수익률: 10.0% (SPY 역사적 평균)
총 납입 원금: 360,000,000원

[ 최종 결과 ]
============================================================
최종 잔고: 2,279,325,359원
총 납입 원금: 360,000,000원
총 수익: 1,919,325,359원
수익률: 533.1%
```

## 라이선스

MIT License
